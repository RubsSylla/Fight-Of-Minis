#include <stdio.h>
#include <stdlib.h>
#include <allegro.h>
#include "string.h"

#define blanc makecol(255,255,255)
#define marron makecol(120,67,21)

int main()
{
    srand(time(NULL));

    printf("->Initialisation d'Allegro en cours ...\n");
    allegro_init();
    printf("OK\n");

    printf("->Initialisation couleur de fond en cours ...\n");
    set_color_depth(desktop_color_depth());
    printf("OK\n");

    printf("->Initialisation du mode graphique en cours ...\n");
    if((set_gfx_mode(GFX_AUTODETECT_WINDOWED,800,600,0,0))!=0)
    {
        allegro_message("Pb de mode graphique");
        allegro_exit();
        exit(EXIT_FAILURE);
    }
    printf("OK\n");

    install_mouse();
    show_mouse(screen);
    install_keyboard();

    BITMAP* fond;
    fond=load_bitmap("fond1.bmp", NULL);

    BITMAP* buffer;
    buffer=create_bitmap(800,600);

    BITMAP* image;
    image=load_bitmap("fond.bmp", NULL);

    BITMAP* flecheHaut;
    flecheHaut=load_bitmap("flecheHaut.bmp", NULL);

    BITMAP* flecheBas;
    flecheBas=load_bitmap("flecheBas.bmp", NULL);

    BITMAP* deux;
    deux=load_bitmap("2.bmp", NULL);

    BITMAP* trois;
    trois=load_bitmap("3.bmp", NULL);

    BITMAP* quatre;
    quatre=load_bitmap("4.bmp", NULL);

    /*******************************************************************************************************************/

    int compteur=1;

    while(!key[KEY_ENTER])
    {
        affichageFleches(flecheHaut,flecheBas,buffer);

        if(((mouse_x>=35)&&(mouse_x<=220))&&((mouse_y>=100)&&(mouse_y<=170)))
        {
            if(mouse_b & 1)
            {
                compteur=compteur+1;
            }
        }
        if(((mouse_x>=35)&&(mouse_x<=220))&&((mouse_y>=170)&&(mouse_y<=240)))
        {
            if(mouse_b & 1)
            {
                compteur=compteur-1;
            }
        }
        if(compteur==2);
        {
            clear_bitmap(buffer);
            affichageFleches(flecheHaut,flecheBas,buffer);
            masked_stretch_blit(deux,buffer,0,0,57,51,60,120,100,100);
            blit(buffer,screen,0,0,0,0,800,600);
        }
        if(compteur==3)
        {
            clear_bitmap(buffer);
            affichageFleches(flecheHaut,flecheBas,buffer);
            masked_stretch_blit(trois,buffer,0,0,57,76,60,120,100,100);
            blit(buffer,screen,0,0,0,0,800,600);
        }
        if(compteur==4)
        {

            clear_bitmap(buffer);
            affichageFleches(flecheHaut,flecheBas,buffer);
            masked_stretch_blit(quatre,buffer,0,0,57,76,60,120,100,100);
            blit(buffer,screen,0,0,0,0,800,600);
        }
        if(compteur>4)
        {
            compteur=1;
        }
        if(compteur<2)
        {
            compteur=1;
        }
    }

    /*******************************************************************************************************************/
    return 0;

}END_OF_MAIN();



/************************************************************************************************************************/
/************************************************************************************************************************/
/************************************************************************************************************************/
void affichageFleches(BITMAP* flecheHaut, BITMAP* flecheBas, BITMAP* buffer)
{
    masked_stretch_blit(flecheHaut,buffer,0,0,35,35,150,100,70,70);
    masked_stretch_blit(flecheBas,buffer,0,0,35,35,150,170,70,70);
    blit(buffer,screen,0,0,0,0,800,600);

}
